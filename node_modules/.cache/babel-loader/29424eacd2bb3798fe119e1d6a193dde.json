{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\src\\\\components\\\\admin\\\\AddSubjectForm.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport PhoneIcon from \"@material-ui/icons/Phone\";\nimport EmailIcon from \"@material-ui/icons/Email\";\nimport BuildingIcon from \"@material-ui/icons/AccountBalance\";\nimport TimeIcon from \"@material-ui/icons/AccessTime\";\nimport SubjectIcon from \"@material-ui/icons/Assignment\";\nimport axios from 'axios';\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { ValidatorForm, TextValidator } from 'react-material-ui-form-validator';\nimport { addNewSubject } from \"./AdminFunctions\";\nimport { baseURL } from \"../../api\";\nimport { deleteSubjectMethod } from \"./AdminFunctions\";\n\nvar styles = function styles(theme) {\n  return {\n    margin: {\n      marginLeft: 10,\n      paddingLeft: 20\n    }\n  };\n};\n\nvar AddSubjectForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddSubjectForm, _React$Component);\n\n  function AddSubjectForm(props) {\n    var _this;\n\n    _classCallCheck(this, AddSubjectForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddSubjectForm).call(this, props));\n\n    _this._handleChange = function (field, event) {\n      if (field == \"name\") {\n        _this.setState({\n          subjectName: event.target.value\n        });\n      } else if (field == \"code\") {\n        _this.setState({\n          subjectCode: event.target.value\n        });\n      } else if (field == \"semester\") {\n        _this.setState({\n          subjectSemester: event.target.value\n        });\n      }\n    };\n\n    _this.state = {\n      subjectName: \"\",\n      subjectCode: \"\",\n      subjectSemester: \"\",\n      allSubjects: []\n    };\n    _this._handleChange = _this._handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this._handleSubmit = _this._handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(AddSubjectForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      ValidatorForm.addValidationRule(\"nameValidator\", function (value) {\n        var regex = new RegExp(\"[0-9]+\");\n\n        if (regex.test(value)) {\n          return false;\n        } else {\n          return true;\n        }\n      });\n      ValidatorForm.addValidationRule(\"semesterValidator\", function (value) {\n        var regex = new RegExp(\"[0-9]+\");\n\n        if (value != null) {\n          if (regex.test(value)) {\n            if (value.length == 1 && (value == 1 || value == 2)) {\n              return true;\n            } else {\n              return false;\n            }\n          } else {\n            return false;\n          }\n        } else {\n          return true;\n        }\n      });\n      axios.get(baseURL + '/subject').then(function (response) {\n        _this2.setState({\n          allSubjects: response.data.flat()\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this3 = this;\n\n      axios.get(baseURL + '/subject').then(function (response) {\n        _this3.setState({\n          allSubjects: response.data.flat()\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"_handleSubmit\",\n    value: function _handleSubmit(event) {\n      addNewSubject(this.state.subjectName, this.state.subjectCode, this.state.subjectSemester);\n      this.setState({\n        subjectName: \"\",\n        subjectCode: \"\",\n        subjectSemester: \"\"\n      });\n    }\n  }, {\n    key: \"_deleteSubject\",\n    value: function _deleteSubject(id) {\n      deleteSubjectMethod(id);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var allSubjects = this.state.allSubjects;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        spacing: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        style: {\n          paddingBottom: 30\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }), React.createElement(List, {\n        style: {\n          maxHeight: 200,\n          overflow: 'auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, allSubjects.map(function (subject) {\n        return React.createElement(ListItem, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, React.createElement(ListItemIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, React.createElement(SubjectIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        })), React.createElement(ListItemText, {\n          primary: subject.name + \" (\" + subject.code + \")\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }), React.createElement(IconButton, {\n          \"aria-label\": \"delete\",\n          onClick: function onClick() {\n            return _this4._deleteSubject(subject._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(DeleteIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        })));\n      }))), React.createElement(ValidatorForm, {\n        ref: \"form\",\n        onSubmit: this._handleSubmit,\n        onError: function onError(errors) {\n          return console.log(errors);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        spacing: 1,\n        alignItems: \"flex-end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(TextValidator, {\n        style: {\n          marginLeft: 20,\n          marginBottom: 30\n        },\n        label: \"Subject Name\",\n        onChange: function onChange(e) {\n          return _this4._handleChange(\"name\", e);\n        },\n        name: \"subjectName\",\n        value: this.state.subjectName,\n        validators: ['required', 'nameValidator'],\n        errorMessages: ['This field is required', 'Please enter a valid subject name'],\n        InputProps: {\n          startAdornment: React.createElement(InputAdornment, {\n            position: \"start\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 176\n            },\n            __self: this\n          }, React.createElement(SubjectIcon, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 177\n            },\n            __self: this\n          }))\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        container: true,\n        spacing: 1,\n        alignItems: \"flex-end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(TextValidator, {\n        style: {\n          marginLeft: 20,\n          marginBottom: 30\n        },\n        label: \"Subject Code\",\n        onChange: function onChange(e) {\n          return _this4._handleChange(\"code\", e);\n        },\n        name: \"subjectCode\",\n        value: this.state.subjectCode,\n        validators: ['required'],\n        errorMessages: ['This field is required'],\n        InputProps: {\n          startAdornment: React.createElement(InputAdornment, {\n            position: \"start\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 198\n            },\n            __self: this\n          }, React.createElement(SubjectIcon, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 199\n            },\n            __self: this\n          }))\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        container: true,\n        spacing: 1,\n        alignItems: \"flex-end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(TextValidator, {\n        style: {\n          marginLeft: 20,\n          marginBottom: 30\n        },\n        label: \"Subject Semester\",\n        onChange: function onChange(e) {\n          return _this4._handleChange(\"semester\", e);\n        },\n        name: \"subjectSemester\",\n        value: this.state.subjectSemester,\n        validators: ['required', 'semesterValidator'],\n        errorMessages: ['This field is required', 'Please enter either Semester 1 or 2'],\n        InputProps: {\n          startAdornment: React.createElement(InputAdornment, {\n            position: \"start\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 220\n            },\n            __self: this\n          }, React.createElement(SubjectIcon, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 221\n            },\n            __self: this\n          }))\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        style: {\n          paddingBottom: 30,\n          paddingTop: 30,\n          marginLeft: '50%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, \"Submit\")))));\n    }\n  }]);\n\n  return AddSubjectForm;\n}(React.Component);\n\nexport default withStyles(styles)(AddSubjectForm);","map":{"version":3,"sources":["C:\\Users\\Reyna\\Documents\\GitHub\\SWEN90013\\src\\components\\admin\\AddSubjectForm.js"],"names":["React","PropTypes","makeStyles","withStyles","Input","InputLabel","InputAdornment","FormControl","TextField","Grid","AccountCircle","PhoneIcon","EmailIcon","BuildingIcon","TimeIcon","SubjectIcon","axios","Button","Typography","Paper","List","ListItem","ListItemAvatar","ListItemIcon","ListItemSecondaryAction","ListItemText","Avatar","IconButton","FolderIcon","DeleteIcon","ValidatorForm","TextValidator","addNewSubject","baseURL","deleteSubjectMethod","styles","theme","margin","marginLeft","paddingLeft","AddSubjectForm","props","_handleChange","field","event","setState","subjectName","target","value","subjectCode","subjectSemester","state","allSubjects","bind","_handleSubmit","addValidationRule","regex","RegExp","test","length","get","then","response","data","flat","catch","error","console","log","id","paddingBottom","maxHeight","overflow","map","subject","name","code","_deleteSubject","_id","errors","marginBottom","e","startAdornment","paddingTop","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport PhoneIcon from \"@material-ui/icons/Phone\";\r\nimport EmailIcon from \"@material-ui/icons/Email\";\r\nimport BuildingIcon from \"@material-ui/icons/AccountBalance\";\r\nimport TimeIcon from \"@material-ui/icons/AccessTime\";\r\nimport SubjectIcon from \"@material-ui/icons/Assignment\";\r\nimport axios from 'axios'\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\"\r\nimport Paper from \"@material-ui/core/Paper\"\r\n\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FolderIcon from '@material-ui/icons/Folder';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\n\r\nimport {addNewSubject} from \"./AdminFunctions\"\r\nimport { baseURL } from \"../../api\";\r\n\r\nimport {deleteSubjectMethod} from \"./AdminFunctions\"\r\n\r\nconst styles = theme => ({\r\n  margin: {\r\n    marginLeft: 10,\r\n    paddingLeft: 20\r\n  }\r\n});\r\n\r\nclass AddSubjectForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      subjectName: \"\",\r\n      subjectCode: \"\",\r\n      subjectSemester: \"\",\r\n      allSubjects:[]\r\n    };\r\n    this._handleChange = this._handleChange.bind(this);\r\n    this._handleSubmit = this._handleSubmit.bind(this);\r\n  } \r\n\r\n\r\n  componentDidMount() { \r\n    ValidatorForm.addValidationRule(\"nameValidator\", value => {\r\n      var regex = new RegExp(\"[0-9]+\"); \r\n      if(regex.test(value)) {\r\n        return false;\r\n      } else {\r\n        return true; \r\n      }\r\n    })\r\n\r\n    ValidatorForm.addValidationRule(\"semesterValidator\", value => {\r\n      var regex = new RegExp(\"[0-9]+\"); \r\n      \r\n      if(value != null) {\r\n        if(regex.test(value)) {\r\n          if(value.length == 1 && (value == 1 || value == 2)) {\r\n            return true; \r\n          } else {\r\n            return false; \r\n          }\r\n        } else {\r\n          return false; \r\n        }\r\n      } else {\r\n        return true; \r\n      }\r\n      \r\n    })\r\n\r\n\r\n\r\n    axios.get(baseURL+'/subject')\r\n  .then(response => {\r\n    this.setState({\r\n      allSubjects: response.data.flat()\r\n    })\r\n  })\r\n  .catch(function (error) {\r\n    console.log(error);\r\n  })};\r\n\r\n  componentDidUpdate() {\r\n    axios.get(baseURL+'/subject')\r\n    .then(response => {\r\n      this.setState({\r\n        allSubjects: response.data.flat()\r\n      })\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    })};\r\n\r\n  _handleSubmit(event) {\r\n    addNewSubject(this.state.subjectName, this.state.subjectCode, this.state.subjectSemester); \r\n    this.setState({ subjectName: \"\", subjectCode: \"\", subjectSemester: \"\" });\r\n  }\r\n\r\n  _handleChange = (field, event) => {\r\n    if (field == \"name\") {\r\n      this.setState({ subjectName: event.target.value });\r\n    } else if (field == \"code\") {\r\n      this.setState({ subjectCode: event.target.value });\r\n    } else if (field == \"semester\") {\r\n      this.setState({ subjectSemester: event.target.value });\r\n    }\r\n  };\r\n\r\n  _deleteSubject(id) { \r\n    deleteSubjectMethod(id); \r\n}\r\n\r\n  render() {\r\n    const{allSubjects} = this.state; \r\n    return (\r\n      <div>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} style={{paddingBottom:30}}>\r\n            <br/>\r\n          <List style={{maxHeight:200, overflow: 'auto'}}> \r\n        {allSubjects.map((subject) => {\r\n     return  <ListItem>\r\n       \r\n     <ListItemIcon>\r\n       <SubjectIcon />\r\n     </ListItemIcon>\r\n     <ListItemText\r\n       primary={subject.name + \" (\" + subject.code+\")\"}\r\n      \r\n       \r\n     />\r\n      <IconButton  aria-label=\"delete\" onClick={() => this._deleteSubject(subject._id)} >\r\n         <DeleteIcon />\r\n       </IconButton>\r\n   </ListItem>\r\n   })} \r\n            \r\n       </List>\r\n          </Grid> \r\n          <ValidatorForm\r\n                ref=\"form\"\r\n                onSubmit={this._handleSubmit}\r\n                onError={errors => console.log(errors)}\r\n            > \r\n            <Grid container spacing={1} alignItems=\"flex-end\">\r\n         \r\n          <Grid item>\r\n          <TextValidator\r\n                    style={{marginLeft: 20, marginBottom: 30}}\r\n                    label=\"Subject Name\"\r\n                    onChange={e=>this._handleChange(\"name\",e)}\r\n                    name=\"subjectName\"\r\n                    value={this.state.subjectName}\r\n                    validators={['required','nameValidator']}\r\n                    errorMessages={['This field is required', 'Please enter a valid subject name']}\r\n                    InputProps={{\r\n                      startAdornment: (\r\n                        <InputAdornment position=\"start\">\r\n                          <SubjectIcon />\r\n                        </InputAdornment>\r\n                      ),\r\n                    }}\r\n                />\r\n          </Grid>\r\n        </Grid>\r\n        <br/> \r\n                <Grid container spacing={1} alignItems=\"flex-end\">\r\n          \r\n          <Grid item>\r\n          <TextValidator\r\n            style={{marginLeft: 20, marginBottom: 30}}\r\n                    label=\"Subject Code\"\r\n                    onChange={e=>this._handleChange(\"code\",e)}\r\n                    name=\"subjectCode\"\r\n                    value={this.state.subjectCode}\r\n                    validators={['required']}\r\n                    errorMessages={['This field is required']}\r\n                    InputProps={{\r\n                      startAdornment: (\r\n                        <InputAdornment position=\"start\">\r\n                          <SubjectIcon />\r\n                        </InputAdornment>\r\n                      ),\r\n                    }}\r\n                />\r\n          </Grid>\r\n        </Grid>\r\n        <br/> \r\n                <Grid container spacing={1} alignItems=\"flex-end\">\r\n         \r\n          <Grid item>\r\n          <TextValidator\r\n            style={{marginLeft: 20, marginBottom: 30}}\r\n                    label=\"Subject Semester\"\r\n                    onChange={e=>this._handleChange(\"semester\",e)}\r\n                    name=\"subjectSemester\"\r\n                    value={this.state.subjectSemester}\r\n                    validators={['required', 'semesterValidator']}\r\n                    errorMessages={['This field is required', 'Please enter either Semester 1 or 2']}\r\n                    InputProps={{\r\n                      startAdornment: (\r\n                        <InputAdornment position=\"start\">\r\n                          <SubjectIcon />\r\n                        </InputAdornment>\r\n                      ),\r\n                    }}\r\n                />\r\n          </Grid>\r\n        </Grid>\r\n\r\n    \r\n          <br />\r\n          <Grid item xs={12} style={{ paddingBottom: 30, paddingTop: 30, marginLeft: '50%' }}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              type=\"submit\"\r\n            >\r\n              Submit\r\n            </Button>\r\n            \r\n          </Grid></ValidatorForm>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(AddSubjectForm);\r\n"]},"metadata":{},"sourceType":"module"}