{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\src\\\\components\\\\dashboard\\\\Proposals\\\\AllProposals\\\\RejectedProposals.js\";\n\n/**\r\n * This component contains all reject proposals. It is entered via a \"View Rejected Proposals\" button on the Proposals page.\r\n * Author: Reyna Tan\r\n * Date: 07/05/2019\r\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles, useTheme } from '@material-ui/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TableHead from \"@material-ui/core/TableHead/TableHead\";\nimport store from \"../../../../store\";\nimport { getProposalList } from \"../../../../api\";\nimport { getAllProposalsAction } from \"../../../../store/actionCreators\";\n\nvar RejectedProposals =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(RejectedProposals, _React$Component);\n\n  function RejectedProposals(props) {\n    var _this;\n\n    _classCallCheck(this, RejectedProposals);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RejectedProposals).call(this, props));\n\n    _this._filterProposalsByStatus = function (status) {\n      //TODO: filter by user\n      var proposals = _this.state.proposals;\n      var targetProposals = [];\n      proposals.forEach(function (p) {\n        // First check if valid before sending through\n        if ('client' in p) {\n          if ('organisation' in p.client) {\n            if (p.status === status) {\n              targetProposals.push(p);\n            }\n          }\n        }\n      });\n      return targetProposals;\n    };\n\n    _this.state = store.getState();\n    _this._handleStoreChange = _this._handleStoreChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    store.subscribe(_this._handleStoreChange);\n    return _this;\n  }\n\n  _createClass(RejectedProposals, [{\n    key: \"_handleStoreChange\",\n    value: function _handleStoreChange() {\n      this.setState(store.getState());\n    }\n  }, {\n    key: \"_reqTodoList\",\n    value: function () {\n      var _reqTodoList2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var result, action;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getProposalList();\n\n              case 2:\n                result = _context.sent;\n                action = getAllProposalsAction(result);\n                store.dispatch(action);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function _reqTodoList() {\n        return _reqTodoList2.apply(this, arguments);\n      }\n\n      return _reqTodoList;\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._reqTodoList();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = useStyles2();\n\n      var rejected = this._filterProposalsByStatus(status.reject);\n\n      var emptyRows = this.rowsPerPage - Math.min(this.rowsPerPage, rejected.length - this.page * this.rowsPerPage);\n\n      function handleChangePage(event, newPage) {\n        this.setPage(newPage);\n      }\n\n      function handleChangeRowsPerPage(event) {\n        this.setRowsPerPage(parseInt(event.target.value, 10));\n      }\n\n      function handleClick(event, id) {\n        window.location.href = \"/dashboard/proposals/\".concat(id);\n      }\n\n      return React.createElement(Paper, {\n        className: useStyles2.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.tableWrapper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(Table, {\n        className: useStyles2.table,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        style: {\n          width: \"20%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Project Name\"), React.createElement(TableCell, {\n        align: \"left\",\n        style: {\n          width: \"15%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Client\"), React.createElement(TableCell, {\n        align: \"left\",\n        style: {\n          width: \"15%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Organisation\"), React.createElement(TableCell, {\n        align: \"left\",\n        style: {\n          width: \"50%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Project Description\"))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, this._filterProposalsByStatus(status.reject).map(function (p) {\n        return React.createElement(TableRow, {\n          hover: true,\n          onClick: function onClick(event) {\n            return handleClick(event, p._id);\n          },\n          key: p._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, React.createElement(TableCell, {\n          component: \"th\",\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, p.name), React.createElement(TableCell, {\n          align: \"left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, p.client.firstName + \" \" + p.client.lastName), React.createElement(TableCell, {\n          align: \"left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, p.client.organisation.name), React.createElement(TableCell, {\n          align: \"left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, p.outlineOfProject));\n      })))));\n    }\n  }]);\n\n  return RejectedProposals;\n}(React.Component);\n\nexport default withStyles(useStyles2)(RejectedProposals);","map":{"version":3,"sources":["C:\\Users\\Reyna\\Documents\\GitHub\\SWEN90013\\src\\components\\dashboard\\Proposals\\AllProposals\\RejectedProposals.js"],"names":["React","PropTypes","makeStyles","useTheme","Table","TableBody","TableCell","TableRow","Paper","IconButton","FirstPageIcon","KeyboardArrowLeft","KeyboardArrowRight","LastPageIcon","withStyles","TableHead","store","getProposalList","getAllProposalsAction","RejectedProposals","props","_filterProposalsByStatus","status","proposals","state","targetProposals","forEach","p","client","push","getState","_handleStoreChange","bind","subscribe","setState","result","action","dispatch","_reqTodoList","classes","useStyles2","rejected","reject","emptyRows","rowsPerPage","Math","min","length","page","handleChangePage","event","newPage","setPage","handleChangeRowsPerPage","setRowsPerPage","parseInt","target","value","handleClick","id","window","location","href","root","tableWrapper","table","width","map","_id","name","firstName","lastName","organisation","outlineOfProject","Component"],"mappings":"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","sourcesContent":["/**\r\n * This component contains all reject proposals. It is entered via a \"View Rejected Proposals\" button on the Proposals page.\r\n * Author: Reyna Tan\r\n * Date: 07/05/2019\r\n */\r\n\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {makeStyles, useTheme} from '@material-ui/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\r\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\r\nimport LastPageIcon from '@material-ui/icons/LastPage';\r\nimport {withStyles} from \"@material-ui/core/styles\";\r\nimport TableHead from \"@material-ui/core/TableHead/TableHead\";\r\nimport store from \"../../../../store\";\r\nimport {getProposalList} from \"../../../../api\";\r\nimport {getAllProposalsAction} from \"../../../../store/actionCreators\";\r\n\r\nclass RejectedProposals extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = store.getState();\r\n\r\n        this._handleStoreChange = this._handleStoreChange.bind(this);\r\n        store.subscribe(this._handleStoreChange);\r\n    }\r\n\r\n    _handleStoreChange() {\r\n        this.setState(store.getState());\r\n    }\r\n\r\n    async _reqTodoList() {\r\n        const result = await getProposalList();\r\n        const action = getAllProposalsAction(result);\r\n        store.dispatch(action);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._reqTodoList();\r\n    }\r\n\r\n    _filterProposalsByStatus = status => {\r\n        //TODO: filter by user\r\n        const {proposals} = this.state;\r\n        let targetProposals = [];\r\n\r\n        proposals.forEach(p => {\r\n            // First check if valid before sending through\r\n            if ('client' in p) {\r\n                if ('organisation' in p.client) {\r\n                    if (p.status === status) {\r\n                        targetProposals.push(p);\r\n                    }\r\n                }\r\n            }\r\n\r\n        });\r\n\r\n        return targetProposals;\r\n    };\r\n\r\n\r\n    render() {\r\n        const classes = useStyles2();\r\n\r\n        const rejected = this._filterProposalsByStatus(status.reject);\r\n\r\n        const emptyRows = this.rowsPerPage - Math.min(this.rowsPerPage, rejected.length - this.page * this.rowsPerPage);\r\n\r\n        function handleChangePage(event, newPage) {\r\n            this.setPage(newPage);\r\n        }\r\n\r\n        function handleChangeRowsPerPage(event) {\r\n            this.setRowsPerPage(parseInt(event.target.value, 10));\r\n        }\r\n\r\n        function handleClick(event, id) {\r\n            window.location.href = `/dashboard/proposals/${id}`;\r\n        }\r\n\r\n        return (\r\n            <Paper className={useStyles2.root}>\r\n                <div className={classes.tableWrapper}>\r\n                    <Table className={useStyles2.table}>\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell style={{width: \"20%\"}}>Project\r\n                                    Name</TableCell>\r\n                                <TableCell align=\"left\"\r\n                                           style={{width: \"15%\"}}>Client</TableCell>\r\n                                <TableCell align=\"left\"\r\n                                           style={{width: \"15%\"}}>Organisation</TableCell>\r\n                                <TableCell align=\"left\" style={{width: \"50%\"}}>Project\r\n                                    Description</TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {this._filterProposalsByStatus(status.reject).map(p => (\r\n                                <TableRow\r\n                                    hover\r\n                                    onClick={event => handleClick(event, p._id)}\r\n                                    key={p._id}>\r\n                                    <TableCell component=\"th\" scope=\"row\">\r\n                                        {p.name}\r\n                                    </TableCell>\r\n                                    <TableCell\r\n                                        align=\"left\">{p.client.firstName + \" \" + p.client.lastName}</TableCell>\r\n                                    <TableCell\r\n                                        align=\"left\">{p.client.organisation.name}</TableCell>\r\n                                    <TableCell\r\n                                        align=\"left\">{p.outlineOfProject}</TableCell>\r\n                                </TableRow>\r\n                            ))}\r\n                        </TableBody>\r\n\r\n                    </Table>\r\n                </div>\r\n            </Paper>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withStyles(useStyles2)(RejectedProposals);"]},"metadata":{},"sourceType":"module"}