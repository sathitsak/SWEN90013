{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\src\\\\components\\\\dashboard\\\\Client\\\\ClientPageModal.js\";\nimport React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Chip from \"@material-ui/core/Chip\";\nimport FaceIcon from \"@material-ui/icons/Face\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport { grey, red } from \"@material-ui/core/colors\";\nimport ErrorOutlinedIcon from '@material-ui/icons/ErrorOutlined';\nimport ErrorOutlineOutlinedIcon from '@material-ui/icons/ErrorOutlineOutlined';\nimport ClientDetails from \"./modalcomponents/ClientDetails\";\nimport ClientOrg from \"./modalcomponents/ClientOrg\";\nimport Notes from \"../Notes/Notes\";\nimport store from \"../../../store\";\nimport { updateClientAction } from \"../../../store/actionCreators\";\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      flexGrow: 1\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing.unit * 4,\n      paddingLeft: theme.spacing.unit * 4,\n      outline: \"none\"\n    },\n    closeButton: {\n      color: \"#094183\"\n    },\n    iconFalse: {\n      marginLeft: 20,\n      marginBottom: 10,\n      color: grey[500],\n      '&:hover': {\n        color: red[500]\n      },\n      fontSize: 35,\n      verticalAlign: 'middle'\n    },\n    iconTrue: {\n      marginLeft: 20,\n      marginBottom: 10,\n      '&:hover': {\n        color: grey[500]\n      },\n      fontSize: 35,\n      verticalAlign: 'middle',\n      color: red[500]\n    }\n  };\n};\n\nvar ClientPageModal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ClientPageModal, _React$Component);\n\n  function ClientPageModal() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ClientPageModal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ClientPageModal)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      open: false,\n      fullWidth: true,\n      maxWidth: \"xl\",\n      client: \"\",\n      clientFlag: _this.props.client.flag\n    };\n\n    _this._handleClickOpen = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this._handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this._concatenateNames = function (firstName, lastName) {\n      return firstName + \" \" + lastName;\n    };\n\n    _this._handleClientFlagUpdate = function () {\n      // Invert clientFlag value and update state and DB\n      var currentFlag = !_this.state.clientFlag;\n\n      _this.setState({\n        clientFlag: currentFlag\n      });\n\n      var client = _this.props.client;\n      client.flag = currentFlag; // Send PUT request\n\n      var updateClientAct = updateClientAction(client._id, client);\n      store.dispatch(updateClientAct);\n    };\n\n    return _this;\n  }\n\n  _createClass(ClientPageModal, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var flagIcon;\n      var client = this.props.client;\n      var clientFlag = this.state.clientFlag;\n\n      if (clientFlag) {\n        flagIcon = React.createElement(ErrorOutlinedIcon, {\n          className: classes.iconTrue,\n          onClick: this._handleClientFlagUpdate,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        });\n      } else {\n        flagIcon = React.createElement(ErrorOutlineOutlinedIcon, {\n          className: classes.iconFalse,\n          onClick: this._handleClientFlagUpdate,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        });\n      }\n\n      if (!client) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Chip, {\n        onClick: this._handleClickOpen,\n        icon: client.flag ? React.createElement(ErrorOutlinedIcon, {\n          className: classes.iconTrue,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }) : React.createElement(FaceIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }),\n        label: this._concatenateNames(client.firstName, client.lastName),\n        variant: \"outlined\",\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(Dialog, {\n        fullWidth: this.state.fullWidth,\n        maxWidth: this.state.maxWidth,\n        open: this.state.open,\n        onClose: this._handleClose,\n        \"aria-labelledby\": \"max-width-dialog-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        spacing: 24,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        className: classes.paper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        style: {\n          color: \"#094183\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, this._concatenateNames(client.firstName, client.lastName), flagIcon), React.createElement(ClientDetails, {\n        email: client.email,\n        technicalAbility: client.technicalAbility,\n        contactNumber: client.contactNumber,\n        orgNumber: client.organisation.number,\n        secondaryContactName: this._concatenateNames(client.secondaryContactFirstName, client.secondaryContactLastName),\n        secondaryContactEmail: client.secondaryContactEmail,\n        secondaryContactNumber: client.secondaryContactNumber,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }))), React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        style: {\n          marginBottom: \"5%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        className: classes.paper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(ClientOrg, {\n        orgName: client.organisation.name,\n        orgSize: client.organisation.size,\n        industry: client.organisation.industryType,\n        description: client.organisation.description,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }))), React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        className: classes.paper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(Notes, {\n        notes: client.notes,\n        object: client,\n        objectType: \"client\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      })))))), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this._handleClose,\n        className: classes.closeButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Close\"))));\n    }\n  }]);\n\n  return ClientPageModal;\n}(React.Component);\n\nexport default withStyles(styles)(ClientPageModal);","map":{"version":3,"sources":["C:\\Users\\Reyna\\Documents\\GitHub\\SWEN90013\\src\\components\\dashboard\\Client\\ClientPageModal.js"],"names":["React","withStyles","Button","Chip","FaceIcon","Grid","Paper","Dialog","DialogActions","DialogContent","grey","red","ErrorOutlinedIcon","ErrorOutlineOutlinedIcon","ClientDetails","ClientOrg","Notes","store","updateClientAction","styles","theme","root","flexGrow","paper","backgroundColor","palette","background","boxShadow","shadows","padding","spacing","unit","paddingLeft","outline","closeButton","color","iconFalse","marginLeft","marginBottom","fontSize","verticalAlign","iconTrue","ClientPageModal","state","open","fullWidth","maxWidth","client","clientFlag","props","flag","_handleClickOpen","setState","_handleClose","_concatenateNames","firstName","lastName","_handleClientFlagUpdate","currentFlag","updateClientAct","_id","dispatch","classes","flagIcon","email","technicalAbility","contactNumber","organisation","number","secondaryContactFirstName","secondaryContactLastName","secondaryContactEmail","secondaryContactNumber","name","size","industryType","description","notes","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {withStyles} from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport FaceIcon from \"@material-ui/icons/Face\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport {grey, red} from \"@material-ui/core/colors\";\r\nimport ErrorOutlinedIcon from '@material-ui/icons/ErrorOutlined';\r\nimport ErrorOutlineOutlinedIcon from '@material-ui/icons/ErrorOutlineOutlined';\r\nimport ClientDetails from \"./modalcomponents/ClientDetails\";\r\nimport ClientOrg from \"./modalcomponents/ClientOrg\";\r\nimport Notes from \"../Notes/Notes\";\r\nimport store from \"../../../store\";\r\nimport {updateClientAction} from \"../../../store/actionCreators\";\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        flexGrow: 1\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing.unit * 4,\r\n        paddingLeft: theme.spacing.unit * 4,\r\n        outline: \"none\"\r\n    },\r\n    closeButton: {\r\n        color: \"#094183\",\r\n    },\r\n    iconFalse: {\r\n        marginLeft: 20,\r\n        marginBottom: 10,\r\n        color: grey[500],\r\n        '&:hover': {\r\n            color: red[500],\r\n        },\r\n        fontSize: 35,\r\n        verticalAlign: 'middle',\r\n    },\r\n    iconTrue: {\r\n        marginLeft: 20,\r\n        marginBottom: 10,\r\n        '&:hover': {\r\n            color: grey[500],\r\n        },\r\n        fontSize: 35,\r\n        verticalAlign: 'middle',\r\n        color: red[500]\r\n    }\r\n});\r\n\r\nclass ClientPageModal extends React.Component {\r\n    state = {\r\n        open: false,\r\n        fullWidth: true,\r\n        maxWidth: \"xl\",\r\n        client: \"\",\r\n        clientFlag: this.props.client.flag\r\n    };\r\n\r\n    _handleClickOpen = () => {\r\n        this.setState({open: true});\r\n    };\r\n\r\n    _handleClose = () => {\r\n        this.setState({open: false});\r\n    };\r\n\r\n    _concatenateNames = (firstName, lastName) => {\r\n        return (firstName + \" \" + lastName);\r\n    };\r\n\r\n    _handleClientFlagUpdate = () => {\r\n        // Invert clientFlag value and update state and DB\r\n        var currentFlag = !this.state.clientFlag;\r\n        this.setState({clientFlag: currentFlag});\r\n\r\n        let client = this.props.client;\r\n        client.flag = currentFlag;\r\n\r\n        // Send PUT request\r\n        const updateClientAct = updateClientAction(client._id, client);\r\n        store.dispatch(updateClientAct);\r\n    };\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n        var flagIcon;\r\n        var client = this.props.client;\r\n        var clientFlag = this.state.clientFlag;\r\n\r\n        if (clientFlag) {\r\n            flagIcon = <ErrorOutlinedIcon className={classes.iconTrue}\r\n                                          onClick={this._handleClientFlagUpdate}/>\r\n        } else {\r\n            flagIcon = <ErrorOutlineOutlinedIcon className={classes.iconFalse}\r\n                                                 onClick={this._handleClientFlagUpdate}/>\r\n        }\r\n\r\n        if (!client) {\r\n            return <div/>\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <Chip\r\n                    onClick={this._handleClickOpen}\r\n                    icon={client.flag ? <ErrorOutlinedIcon className={classes.iconTrue}/> : <FaceIcon/>}\r\n                    label={this._concatenateNames(client.firstName, client.lastName)}\r\n                    variant=\"outlined\"\r\n                    align=\"center\"\r\n                />\r\n                <Dialog\r\n                    fullWidth={this.state.fullWidth}\r\n                    maxWidth={this.state.maxWidth}\r\n                    open={this.state.open}\r\n                    onClose={this._handleClose}\r\n                    aria-labelledby=\"max-width-dialog-title\"\r\n                >\r\n                    <DialogContent>\r\n                        <Grid container spacing={24}>\r\n                            <Grid item xs={6}>\r\n                                <Paper className={classes.paper}>\r\n                                    <h1 style={{color: \"#094183\"}}>\r\n                                        {this._concatenateNames(client.firstName, client.lastName)}{flagIcon}\r\n                                    </h1>\r\n                                    <ClientDetails\r\n                                        email={client.email}\r\n                                        technicalAbility={client.technicalAbility}\r\n                                        contactNumber={client.contactNumber}\r\n                                        orgNumber={client.organisation.number}\r\n                                        secondaryContactName={this._concatenateNames(client.secondaryContactFirstName, client.secondaryContactLastName)}\r\n                                        secondaryContactEmail={client.secondaryContactEmail}\r\n                                        secondaryContactNumber={client.secondaryContactNumber}\r\n                                    />\r\n                                </Paper>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6}>\r\n                                <Grid style={{marginBottom: \"5%\"}}>\r\n                                    <Paper className={classes.paper}>\r\n                                        <ClientOrg\r\n                                            orgName={client.organisation.name}\r\n                                            orgSize={client.organisation.size}\r\n                                            industry={client.organisation.industryType}\r\n                                            description={client.organisation.description}\r\n                                        />\r\n                                    </Paper>\r\n                                </Grid>\r\n                                <Grid>\r\n                                    <Paper className={classes.paper}>\r\n                                        <Notes\r\n                                            notes={client.notes}\r\n                                            object={client}\r\n                                            objectType={\"client\"}\r\n                                        />\r\n                                    </Paper>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this._handleClose}\r\n                                className={classes.closeButton}>\r\n                            Close\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(ClientPageModal);\r\n"]},"metadata":{},"sourceType":"module"}