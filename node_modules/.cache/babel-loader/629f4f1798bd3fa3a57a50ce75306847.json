{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Reyna\\\\Documents\\\\GitHub\\\\SWEN90013\\\\src\\\\components\\\\dashboard\\\\Client\\\\ClientPageModal.js\";\nimport React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Chip from \"@material-ui/core/Chip\";\nimport FaceIcon from \"@material-ui/icons/Face\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport { grey, red } from \"@material-ui/core/colors\";\nimport ErrorOutlinedIcon from '@material-ui/icons/ErrorOutlined';\nimport ErrorOutlineOutlinedIcon from '@material-ui/icons/ErrorOutlineOutlined';\nimport ClientDetails from \"./modalcomponents/ClientDetails\";\nimport ClientOrg from \"./modalcomponents/ClientOrg\";\nimport Notes from \"../Notes/Notes\";\nimport axios from \"axios\";\nimport { getClientById } from \"../../../api/index\";\nimport { getGetClientByIdAction } from \"../../../store/actionCreators\";\nimport store from \"../../../store\";\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      flexGrow: 1\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing.unit * 4,\n      paddingLeft: theme.spacing.unit * 4,\n      outline: \"none\"\n    },\n    closeButton: {\n      color: \"#094183\"\n    },\n    iconFalse: {\n      marginLeft: 20,\n      marginBottom: 10,\n      color: grey[500],\n      '&:hover': {\n        color: red[500]\n      },\n      fontSize: 35,\n      verticalAlign: 'middle'\n    },\n    iconTrue: {\n      marginLeft: 20,\n      marginBottom: 10,\n      '&:hover': {\n        color: grey[500]\n      },\n      fontSize: 35,\n      verticalAlign: 'middle',\n      color: red[500]\n    }\n  };\n};\n\nvar ClientPageModal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ClientPageModal, _React$Component);\n\n  function ClientPageModal() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ClientPageModal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ClientPageModal)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      open: false,\n      fullWidth: true,\n      maxWidth: \"xl\",\n      client: \"\",\n      clientFlag: false\n    };\n\n    _this._handleClickOpen = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this._handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this._concatenateNames = function (firstName, lastName) {\n      return firstName + \" \" + lastName;\n    };\n\n    _this._handleClientFlagUpdate = function () {\n      // Invert clientFlag value and update state and DB\n      var currentFlag = !_this.state.clientFlag;\n\n      _this.setState({\n        clientFlag: currentFlag\n      });\n\n      var client = _this.props.client;\n      client.flag = currentFlag; // Send PUT request\n\n      var url = \"http://localhost:13000/api/client/\" + client._id;\n      axios.put(url, client).then(function (response) {\n        console.log(response);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ClientPageModal, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var flagIcon;\n      var client = this.props.client;\n      var clientFlag = this.state.clientFlag;\n\n      if (clientFlag) {\n        flagIcon = React.createElement(ErrorOutlinedIcon, {\n          className: classes.iconTrue,\n          onClick: this._handleClientFlagUpdate,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        });\n      } else {\n        flagIcon = React.createElement(ErrorOutlineOutlinedIcon, {\n          className: classes.iconFalse,\n          onClick: this._handleClientFlagUpdate,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        });\n      }\n\n      if (!client) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Chip, {\n        onClick: this._handleClickOpen,\n        icon: React.createElement(FaceIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }),\n        label: this._concatenateNames(client.firstName, client.lastName),\n        variant: \"outlined\",\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(Dialog, {\n        fullWidth: this.state.fullWidth,\n        maxWidth: this.state.maxWidth,\n        open: this.state.open,\n        onClose: this._handleClose,\n        \"aria-labelledby\": \"max-width-dialog-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        spacing: 24,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        className: classes.paper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        style: {\n          color: \"#094183\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, this._concatenateNames(client.firstName, client.lastName), flagIcon), React.createElement(ClientDetails, {\n        email: client.email,\n        technicalAbility: client.technicalAbility,\n        contactNumber: client.contactNumber,\n        orgNumber: client.organisation.number,\n        secondaryContactName: this._concatenateNames(client.secondaryContactFirstName, client.secondaryContactLastName),\n        secondaryContactEmail: client.secondaryContactEmail,\n        secondaryContactNumber: client.secondaryContactNumber,\n        flag: client.flag,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }))), React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        style: {\n          marginBottom: \"5%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        className: classes.paper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(ClientOrg, {\n        orgName: client.organisation.name,\n        orgSize: client.organisation.size,\n        industry: client.organisation.industryType,\n        description: client.organisation.description,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }))), React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        className: classes.paper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(Notes, {\n        notes: client.notes,\n        object: client,\n        objectType: \"client\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      })))))), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this._handleClose,\n        className: classes.closeButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, \"Close\"))));\n    }\n  }]);\n\n  return ClientPageModal;\n}(React.Component);\n\nexport default withStyles(styles)(ClientPageModal);","map":{"version":3,"sources":["C:\\Users\\Reyna\\Documents\\GitHub\\SWEN90013\\src\\components\\dashboard\\Client\\ClientPageModal.js"],"names":["React","withStyles","Button","Chip","FaceIcon","Grid","Paper","Dialog","DialogActions","DialogContent","grey","red","ErrorOutlinedIcon","ErrorOutlineOutlinedIcon","ClientDetails","ClientOrg","Notes","axios","getClientById","getGetClientByIdAction","store","styles","theme","root","flexGrow","paper","backgroundColor","palette","background","boxShadow","shadows","padding","spacing","unit","paddingLeft","outline","closeButton","color","iconFalse","marginLeft","marginBottom","fontSize","verticalAlign","iconTrue","ClientPageModal","state","open","fullWidth","maxWidth","client","clientFlag","_handleClickOpen","setState","_handleClose","_concatenateNames","firstName","lastName","_handleClientFlagUpdate","currentFlag","props","flag","url","_id","put","then","response","console","log","catch","error","classes","flagIcon","email","technicalAbility","contactNumber","organisation","number","secondaryContactFirstName","secondaryContactLastName","secondaryContactEmail","secondaryContactNumber","name","size","industryType","description","notes","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,0BAAzB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,SAASC,IAAT,EAAeC,GAAf,QAA0B,0BAA1B;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;AACA,OAAOC,wBAAP,MAAqC,yCAArC;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,aAAR,QAA4B,oBAA5B;AACA,SAAQC,sBAAR,QAAqC,+BAArC;AACA,OAAOC,KAAP,MAAkB,gBAAlB;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK;AAAA,SAAK;AACrBC,IAAAA,IAAI,EAAE;AACFC,MAAAA,QAAQ,EAAE;AADR,KADe;AAIrBC,IAAAA,KAAK,EAAE;AACHC,MAAAA,eAAe,EAAEJ,KAAK,CAACK,OAAN,CAAcC,UAAd,CAAyBH,KADvC;AAEHI,MAAAA,SAAS,EAAEP,KAAK,CAACQ,OAAN,CAAc,CAAd,CAFR;AAGHC,MAAAA,OAAO,EAAET,KAAK,CAACU,OAAN,CAAcC,IAAd,GAAqB,CAH3B;AAIHC,MAAAA,WAAW,EAAEZ,KAAK,CAACU,OAAN,CAAcC,IAAd,GAAqB,CAJ/B;AAKHE,MAAAA,OAAO,EAAE;AALN,KAJc;AAWrBC,IAAAA,WAAW,EAAE;AACTC,MAAAA,KAAK,EAAE;AADE,KAXQ;AAcrBC,IAAAA,SAAS,EAAE;AACPC,MAAAA,UAAU,EAAE,EADL;AAEPC,MAAAA,YAAY,EAAE,EAFP;AAGPH,MAAAA,KAAK,EAAE3B,IAAI,CAAC,GAAD,CAHJ;AAIP,iBAAW;AACP2B,QAAAA,KAAK,EAAE1B,GAAG,CAAC,GAAD;AADH,OAJJ;AAOP8B,MAAAA,QAAQ,EAAE,EAPH;AAQPC,MAAAA,aAAa,EAAE;AARR,KAdU;AAwBrBC,IAAAA,QAAQ,EAAE;AACNJ,MAAAA,UAAU,EAAE,EADN;AAENC,MAAAA,YAAY,EAAE,EAFR;AAGN,iBAAW;AACPH,QAAAA,KAAK,EAAE3B,IAAI,CAAC,GAAD;AADJ,OAHL;AAMN+B,MAAAA,QAAQ,EAAE,EANJ;AAONC,MAAAA,aAAa,EAAE,QAPT;AAQNL,MAAAA,KAAK,EAAE1B,GAAG,CAAC,GAAD;AARJ;AAxBW,GAAL;AAAA,CAApB;;IAoCMiC,e;;;;;;;;;;;;;;;;;UACFC,K,GAAQ;AACJC,MAAAA,IAAI,EAAE,KADF;AAEJC,MAAAA,SAAS,EAAE,IAFP;AAGJC,MAAAA,QAAQ,EAAE,IAHN;AAIJC,MAAAA,MAAM,EAAE,EAJJ;AAKJC,MAAAA,UAAU,EAAE;AALR,K;;UAQRC,gB,GAAmB,YAAM;AACrB,YAAKC,QAAL,CAAc;AAACN,QAAAA,IAAI,EAAE;AAAP,OAAd;AACH,K;;UAEDO,Y,GAAe,YAAM;AACjB,YAAKD,QAAL,CAAc;AAACN,QAAAA,IAAI,EAAE;AAAP,OAAd;AACH,K;;UAEDQ,iB,GAAoB,UAACC,SAAD,EAAYC,QAAZ,EAAyB;AACzC,aAAQD,SAAS,GAAG,GAAZ,GAAkBC,QAA1B;AACH,K;;UAEDC,uB,GAA0B,YAAM;AAC5B;AACA,UAAIC,WAAW,GAAG,CAAC,MAAKb,KAAL,CAAWK,UAA9B;;AACA,YAAKE,QAAL,CAAc;AAACF,QAAAA,UAAU,EAAEQ;AAAb,OAAd;;AAEA,UAAIT,MAAM,GAAG,MAAKU,KAAL,CAAWV,MAAxB;AACAA,MAAAA,MAAM,CAACW,IAAP,GAAcF,WAAd,CAN4B,CAQ5B;;AACA,UAAMG,GAAG,GAAG,uCAAuCZ,MAAM,CAACa,GAA1D;AACA7C,MAAAA,KAAK,CACA8C,GADL,CACSF,GADT,EACcZ,MADd,EAEKe,IAFL,CAEU,UAASC,QAAT,EAAmB;AACrBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACH,OAJL,EAKKG,KALL,CAKW,UAASC,KAAT,EAAgB;AACnBH,QAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,OAPL;AAQH,K;;;;;;;6BAEQ;AAAA,UACGC,OADH,GACe,KAAKX,KADpB,CACGW,OADH;AAEL,UAAIC,QAAJ;AACA,UAAItB,MAAM,GAAG,KAAKU,KAAL,CAAWV,MAAxB;AACA,UAAIC,UAAU,GAAG,KAAKL,KAAL,CAAWK,UAA5B;;AAEA,UAAIA,UAAJ,EAAgB;AACZqB,QAAAA,QAAQ,GAAG,oBAAC,iBAAD;AAAmB,UAAA,SAAS,EAAED,OAAO,CAAC3B,QAAtC;AACmB,UAAA,OAAO,EAAE,KAAKc,uBADjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAX;AAEH,OAHD,MAGO;AACHc,QAAAA,QAAQ,GAAG,oBAAC,wBAAD;AAA0B,UAAA,SAAS,EAAED,OAAO,CAAChC,SAA7C;AAC0B,UAAA,OAAO,EAAE,KAAKmB,uBADxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAX;AAEH;;AAED,UAAI,CAAER,MAAN,EAAc;AACV,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;;AAED,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AACI,QAAA,OAAO,EAAE,KAAKE,gBADlB;AAEI,QAAA,IAAI,EAAE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFV;AAGI,QAAA,KAAK,EAAE,KAAKG,iBAAL,CAAuBL,MAAM,CAACM,SAA9B,EAAwCN,MAAM,CAACO,QAA/C,CAHX;AAII,QAAA,OAAO,EAAC,UAJZ;AAKI,QAAA,KAAK,EAAC,QALV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAQI,oBAAC,MAAD;AACI,QAAA,SAAS,EAAE,KAAKX,KAAL,CAAWE,SAD1B;AAEI,QAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWG,QAFzB;AAGI,QAAA,IAAI,EAAE,KAAKH,KAAL,CAAWC,IAHrB;AAII,QAAA,OAAO,EAAE,KAAKO,YAJlB;AAKI,2BAAgB,wBALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,OAAO,EAAE,EAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAEiB,OAAO,CAAC7C,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAI,QAAA,KAAK,EAAE;AAAEY,UAAAA,KAAK,EAAE;AAAT,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKiB,iBAAL,CAAuBL,MAAM,CAACM,SAA9B,EAAwCN,MAAM,CAACO,QAA/C,CADL,EAC+De,QAD/D,CADJ,EAII,oBAAC,aAAD;AACI,QAAA,KAAK,EAAEtB,MAAM,CAACuB,KADlB;AAEI,QAAA,gBAAgB,EAAEvB,MAAM,CAACwB,gBAF7B;AAGI,QAAA,aAAa,EAAExB,MAAM,CAACyB,aAH1B;AAII,QAAA,SAAS,EAAEzB,MAAM,CAAC0B,YAAP,CAAoBC,MAJnC;AAKI,QAAA,oBAAoB,EAAE,KAAKtB,iBAAL,CAAuBL,MAAM,CAAC4B,yBAA9B,EAAyD5B,MAAM,CAAC6B,wBAAhE,CAL1B;AAMI,QAAA,qBAAqB,EAAE7B,MAAM,CAAC8B,qBANlC;AAOI,QAAA,sBAAsB,EAAE9B,MAAM,CAAC+B,sBAPnC;AAQI,QAAA,IAAI,EAAE/B,MAAM,CAACW,IARjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,CADJ,CADJ,EAmBI,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEpB,UAAAA,YAAY,EAAE;AAAhB,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAE8B,OAAO,CAAC7C,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,SAAD;AACI,QAAA,OAAO,EAAEwB,MAAM,CAAC0B,YAAP,CAAoBM,IADjC;AAEI,QAAA,OAAO,EAAEhC,MAAM,CAAC0B,YAAP,CAAoBO,IAFjC;AAGI,QAAA,QAAQ,EAAEjC,MAAM,CAAC0B,YAAP,CAAoBQ,YAHlC;AAII,QAAA,WAAW,EAAElC,MAAM,CAAC0B,YAAP,CAAoBS,WAJrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ,CADJ,EAWI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAEd,OAAO,CAAC7C,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AACI,QAAA,KAAK,EAAEwB,MAAM,CAACoC,KADlB;AAEI,QAAA,MAAM,EAAEpC,MAFZ;AAGI,QAAA,UAAU,EAAE,QAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ,CAXJ,CAnBJ,CADJ,CAPJ,EAkDI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKI,YAAtB;AAAoC,QAAA,SAAS,EAAEiB,OAAO,CAAClC,WAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,CAlDJ,CARJ,CADJ;AAmEH;;;;EA9HyBpC,KAAK,CAACsF,S;;AAiIpC,eAAerF,UAAU,CAACoB,MAAD,CAAV,CAAmBuB,eAAnB,CAAf","sourcesContent":["import React from \"react\";\r\nimport {withStyles} from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport FaceIcon from \"@material-ui/icons/Face\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport { grey, red } from \"@material-ui/core/colors\";\r\nimport ErrorOutlinedIcon from '@material-ui/icons/ErrorOutlined';\r\nimport ErrorOutlineOutlinedIcon from '@material-ui/icons/ErrorOutlineOutlined';\r\nimport ClientDetails from \"./modalcomponents/ClientDetails\";\r\nimport ClientOrg from \"./modalcomponents/ClientOrg\";\r\nimport Notes from \"../Notes/Notes\";\r\nimport axios from \"axios\";\r\nimport {getClientById} from \"../../../api/index\";\r\nimport {getGetClientByIdAction} from \"../../../store/actionCreators\";\r\nimport store from \"../../../store\";\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        flexGrow: 1\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing.unit * 4,\r\n        paddingLeft: theme.spacing.unit * 4,\r\n        outline: \"none\"\r\n    },\r\n    closeButton: {\r\n        color: \"#094183\",\r\n    },\r\n    iconFalse: {\r\n        marginLeft: 20,\r\n        marginBottom: 10,\r\n        color: grey[500],\r\n        '&:hover': {\r\n            color: red[500],\r\n        },\r\n        fontSize: 35,\r\n        verticalAlign: 'middle',\r\n    },\r\n    iconTrue: {\r\n        marginLeft: 20,\r\n        marginBottom: 10,\r\n        '&:hover': {\r\n            color: grey[500],\r\n        },\r\n        fontSize: 35,\r\n        verticalAlign: 'middle',\r\n        color: red[500]\r\n    }\r\n});\r\n\r\nclass ClientPageModal extends React.Component {\r\n    state = {\r\n        open: false,\r\n        fullWidth: true,\r\n        maxWidth: \"xl\",\r\n        client: \"\",\r\n        clientFlag: false\r\n    };\r\n\r\n    _handleClickOpen = () => {\r\n        this.setState({open: true});\r\n    };\r\n\r\n    _handleClose = () => {\r\n        this.setState({open: false});\r\n    };\r\n\r\n    _concatenateNames = (firstName, lastName) => {\r\n        return (firstName + \" \" + lastName);\r\n    }\r\n\r\n    _handleClientFlagUpdate = () => {\r\n        // Invert clientFlag value and update state and DB\r\n        var currentFlag = !this.state.clientFlag;\r\n        this.setState({clientFlag: currentFlag});\r\n\r\n        let client = this.props.client;\r\n        client.flag = currentFlag;\r\n\r\n        // Send PUT request\r\n        const url = `http://localhost:13000/api/client/` + client._id\r\n        axios\r\n            .put(url, client)\r\n            .then(function(response) {\r\n                console.log(response);\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        var flagIcon;\r\n        var client = this.props.client;\r\n        var clientFlag = this.state.clientFlag;\r\n\r\n        if (clientFlag) {\r\n            flagIcon = <ErrorOutlinedIcon className={classes.iconTrue}\r\n                                          onClick={this._handleClientFlagUpdate}/>\r\n        } else {\r\n            flagIcon = <ErrorOutlineOutlinedIcon className={classes.iconFalse}\r\n                                                 onClick={this._handleClientFlagUpdate}/>\r\n        }\r\n\r\n        if (! client) {\r\n            return <div />\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <Chip\r\n                    onClick={this._handleClickOpen}\r\n                    icon={<FaceIcon/>}\r\n                    label={this._concatenateNames(client.firstName,client.lastName)}\r\n                    variant=\"outlined\"\r\n                    align=\"center\"\r\n                />\r\n                <Dialog\r\n                    fullWidth={this.state.fullWidth}\r\n                    maxWidth={this.state.maxWidth}\r\n                    open={this.state.open}\r\n                    onClose={this._handleClose}\r\n                    aria-labelledby=\"max-width-dialog-title\"\r\n                >\r\n                    <DialogContent>\r\n                        <Grid container spacing={24}>\r\n                            <Grid item xs={6}>\r\n                                <Paper className={classes.paper}>\r\n                                    <h1 style={{ color: \"#094183\" }}>\r\n                                        {this._concatenateNames(client.firstName,client.lastName)}{flagIcon}\r\n                                    </h1>\r\n                                    <ClientDetails\r\n                                        email={client.email}\r\n                                        technicalAbility={client.technicalAbility}\r\n                                        contactNumber={client.contactNumber}\r\n                                        orgNumber={client.organisation.number}\r\n                                        secondaryContactName={this._concatenateNames(client.secondaryContactFirstName, client.secondaryContactLastName)}\r\n                                        secondaryContactEmail={client.secondaryContactEmail}\r\n                                        secondaryContactNumber={client.secondaryContactNumber}\r\n                                        flag={client.flag}\r\n                                    />\r\n                                </Paper>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6}>\r\n                                <Grid style={{ marginBottom: \"5%\" }}>\r\n                                    <Paper className={classes.paper}>\r\n                                        <ClientOrg\r\n                                            orgName={client.organisation.name}\r\n                                            orgSize={client.organisation.size}\r\n                                            industry={client.organisation.industryType}\r\n                                            description={client.organisation.description}\r\n                                        />\r\n                                    </Paper>\r\n                                </Grid>\r\n                                <Grid>\r\n                                    <Paper className={classes.paper}>\r\n                                        <Notes \r\n                                            notes={client.notes} \r\n                                            object={client}\r\n                                            objectType={\"client\"}\r\n                                        />\r\n                                    </Paper>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this._handleClose} className={classes.closeButton}>\r\n                            Close\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(ClientPageModal);\r\n"]},"metadata":{},"sourceType":"module"}